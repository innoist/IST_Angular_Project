<!-- START Top Navbar-->
<nav role="navigation" class="navbar topnavbar">
    <!-- START navbar header-->
    <div class="navbar-header">
        <a ng-click="selectDashboard()" class="navbar-brand">
            <div class="brand-logo">
                <img src="/app/img/logo.png" alt="App Logo" class="img-responsive" style="width: 120px" />
            </div>
            <div class="brand-logo-collapsed">
                <img src="/app/img/logo-single.png" alt="App Logo" class="img-responsive" />
            </div>
        </a>
    </div>
    <!-- END navbar header-->
    <!-- START Nav wrapper-->
    <div class="nav-wrapper">
        <!-- START Left navbar-->
        <ul class="nav navbar-nav">
            <li uib-tooltip="{{ 'Show / Hide Menu' }}" tooltip-placement="bottom">
                <!-- Button used to collapse the left sidebar. Only visible on tablet and desktops-->
                <a href="" trigger-resize="" ng-click="app.layout.isCollapsed = !app.layout.isCollapsed" class="hidden-xs">
                    <em class="fa fa-navicon"></em>
                </a>
                <!-- Button to show/hide the sidebar on mobile. Visible on mobile only.-->
                <a href="" ng-click="app.asideToggled = !app.asideToggled" class="visible-xs sidebar-toggle">
                    <em class="fa fa-navicon"></em>
                </a>
            </li>
            <!-- START User avatar toggle-->
            <li uib-tooltip="{{ 'Profile' }}" tooltip-placement="bottom">
                <!-- Button used to collapse the left sidebar. Only visible on tablet and desktops-->
                <a href="" ng-click="toggleUserBlock()">
                    <em class="icon-user"></em>
                </a>
            </li>
            <!-- END User avatar toggle-->
            <!-- START lock screen-->
            <li uib-tooltip="{{ 'Logout' }}" tooltip-placement="bottom">
                <a ng-click="logout()">
                    <em class="icon-lock"></em>
                </a>
            </li>
            <!-- END lock screen-->
        </ul>
        <!-- END Left navbar-->
        <!-- START Right Navbar-->
        <ul class="nav navbar-nav navbar-right">
            <!-- START Alert menu-->
            <!-- END Alert menu-->
            <!-- Search icon-->

            <li uib-dropdown="" class="dropdown dropdown-list open">
                <a uib-dropdown-toggle="" class="dropdown-toggle" aria-haspopup="true" aria-expanded="true">
                    <em class="icon-bell"></em>
                    <div class="label label-danger" ng-if="(Notifications | filter : {isRead : false}).length">
                        {{(Notifications | filter : {isRead : false}).length }}
                    </div>
                </a>
                <!-- START Dropdown menu-->
                <ul class="dropdown-menu animated swing">
                    <scrollable height="" ng-if="(Notifications).length">
                        <li style="padding-left: 0px !important" ng-repeat="notification in Notifications | orderBy : timeStamp">
                            <!-- START list group-->
                            <div class="list-group">
                                <!-- list item-->
                                <div class="list-group-item" ng-click="notificationDetail($index, $event)">
                                    <div class="media-box">
                                        <div class="pull-left">
                                            <em class="icon-user fa-2x"
                                                ng-class="{'text-info' : notification.isRead, 'text-danger' : !notification.isRead}">
                                            </em>
                                        </div>
                                        <div class="media-box-body clearfix">
                                            <p class="m0">{{notification.message}}</p>
                                            <p class="m0 text-muted">
                                                <small>{{notification.localTimeString}}</small>
                                                <span class="pull-right">
                                                    <i class="fa fa-circle" 
                                                       uib-tooltip="Mark as Read" 
                                                       ng-if="!notification.isRead"
                                                       ng-click="markAsRead($index, $event)"></i>
                                                    <i class="fa fa-check-circle-o" 
                                                       uib-tooltip="Read"
                                                       ng-if="notification.isRead"></i>
                                                </span>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <!-- list item-->
                            </div>
                            <!-- END list group-->
                        </li>

                    </scrollable>
                    <li style="padding-left: 0px !important" ng-if="!(Notifications).length">
                        <!-- START list group-->
                        <div class="list-group">
                            <!-- list item-->
                            <a href="" class="list-group-item">
                                <div class="media-box">
                                    <div class="pull-left">
                                        <em class="fa fa-bell-slash fa-2x text-warning"></em>
                                    </div>
                                    <div class="media-box-body clearfix">
                                        <p class="m0">{{'No notifications.'}}</p>
                                    </div>
                                </div>
                            </a>
                            <!-- list item-->
                        </div>
                        <!-- END list group-->
                    </li>
                </ul>
                <!-- END Dropdown menu-->
            </li>

            <!-- Fullscreen (only desktops)-->
            <li class="visible-lg">
                <a href="" toggle-fullscreen="toggle-fullscreen">
                    <em class="fa fa-expand"></em>
                </a>
            </li>

            <!-- START Offsidebar button-->
            <!--<li>
                    <a href="" ng-click="app.offsidebarOpen = !app.offsidebarOpen">
                        <em class="icon-notebook"></em>
                    </a>
                </li>-->
            <!-- END Offsidebar menu-->
        </ul>
        <!-- END Right Navbar-->
    </div>
    <!-- END Nav wrapper-->
    <!-- START Search form-->
    <form role="search" action="search.html" class="navbar-form">
        <div class="form-group has-feedback">
            <input type="text" placeholder="{{ 'topbar.search.PLACEHOLDER' | translate }}" class="form-control" />
            <div search-dismiss="search-dismiss" class="fa fa-times form-control-feedback"></div>
        </div>
        <button type="submit" class="hidden btn btn-default">Submit</button>
    </form>
    <!-- END Search form-->
</nav>
<!-- END Top Navbar-->